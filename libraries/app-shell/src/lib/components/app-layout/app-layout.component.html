<div class="container" [class.is-mobile]="mobileQuery.matches">

  <mat-toolbar color="primary" class="toolbar">
    <button mat-icon-button (click)="snav.toggle()">
      <mat-icon [svgIcon]="snav.opened ? 'menu_open' : 'menu'"
                aria-hidden="false"
                [attr.aria-label]="snav.opened ? 'menu open icon' : 'menu icon'">
      </mat-icon>
    </button>

    <ng-content select="[jbr-app-shell-toolbar-content]"></ng-content>

    <div class="right">
      @if (appSettings.displaySearchInput) {
        <jbr-app-shell-search-input-container class="search-container"></jbr-app-shell-search-input-container>
      }

      @if(appSettings.displayColorModeBtn) {
        <jbr-ui-dark-mode-btn class="dark-mode-btn"></jbr-ui-dark-mode-btn>
      }
    </div>

  </mat-toolbar>

  <mat-sidenav-container class="sidenav-container" [style.marginTop.px]="mobileQuery.matches ? 56 : 0">
    <mat-sidenav #snav [mode]="mobileQuery.matches ? 'over' : 'side'" [fixedInViewport]="mobileQuery.matches" fixedTopGap="56">

      <jbr-app-shell-side-menu-container class="side-menu-container"></jbr-app-shell-side-menu-container>

    </mat-sidenav>

    <mat-sidenav-content class="content-container">

      <section class="content">

        @if(appSettings.displayBreadcrumbs) {
          <jbr-app-shell-breadcrumbs-container class="breadcrumbs-container"></jbr-app-shell-breadcrumbs-container>
        }

        <ng-content select="[jbr-app-shell-app-content]"></ng-content>

      </section>

    </mat-sidenav-content>

  </mat-sidenav-container>

</div>

